<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>components/DailyActivity/index.jsx - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="AverageScoreData.html">AverageScoreData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="DailyActivityData.html">DailyActivityData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="DashboardData.html">DashboardData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="DurationSessionsData.html">DurationSessionsData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="FormatString.html">FormatString</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="FormatString.html#.firstLetterToUpperCase">firstLetterToUpperCase</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="FormatString.html#.putTheNumberInEnglishFormat">putTheNumberInEnglishFormat</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="FormatString.html#.retrieveDayNumber">retrieveDayNumber</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="FormatString.html#.toLocaleStringSupportsOptions">toLocaleStringSupportsOptions</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="InfoCardData.html">InfoCardData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="MainContentHeaderData.html">MainContentHeaderData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="TypeOfActivityData.html">TypeOfActivityData</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#App">App</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#AuthContextProvider">AuthContextProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#AverageScore">AverageScore</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#averageScoreDataProvider">averageScoreDataProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#CustomAxisTick">CustomAxisTick</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#CustomLegend">CustomLegend</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#CustomTooltip">CustomTooltip</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#DailyActivity">DailyActivity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#dailyActivityDataProvider">dailyActivityDataProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Dashboard">Dashboard</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#dashboardDataProvider">dashboardDataProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#DurationSessions">DurationSessions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#durationSessionsDataProvider">durationSessionsDataProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Error">Error</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#fakeAuthProvider">fakeAuthProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#InfoCard">InfoCard</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Loader">Loader</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Login">Login</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#MainContentHeader">MainContentHeader</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#mainContentHeaderDataProvider">mainContentHeaderDataProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#NavigationBar">NavigationBar</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#NotFound">NotFound</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Profile">Profile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#RequireAuth">RequireAuth</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Router">Router</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#SideNavigationMenu">SideNavigationMenu</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#TopNavigationMenu">TopNavigationMenu</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#TypeOfActivity">TypeOfActivity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#typeOfActivityDataProvider">typeOfActivityDataProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#useAuth">useAuth</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#warnThatHTTPCallFailed">warnThatHTTPCallFailed</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">components/DailyActivity/index.jsx</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { useEffect, useState } from 'react'
import { useParams } from 'react-router-dom'
import {
  Legend,
  CartesianGrid,
  XAxis,
  YAxis,
  BarChart,
  Bar,
  Tooltip,
  ResponsiveContainer,
} from 'recharts'
import { dailyActivityDataProvider } from '../../utils/providers.js'
import CustomLegend from '../CustomLegend'
import CustomTooltip from '../CustomTooltip'
import Loader from '../Loader'
import Error from '../Error'
import './style.css'

/**
 * Displays the daily activity of the authenticate
 * user in the form of a BarChart. The latter shows
 * information on weight and calories burned.
 * The x-axis corresponds to the days of the
 * current month. A tooltip appears when you hover
 * over a set of two bars representing the weight
 * and amount of calories burned in a day.
 *
 * It also displays a compose caption of a text and
 * a circle icon.
 *
 * @credits
 *  I learned how to integrate the chart title by follow
 *  the last solution given on the following
 *  [GitHub issue](https://github.com/recharts/recharts/issues/478).
 *
 * @returns {JSX.Element} A DailyActivity component.
 */
function DailyActivity() {
  const [isLoading, setLoading] = useState(true)
  const [dailyActivityData, setDailayActivityData] = useState([])
  const [error, setError] = useState(false)

  const { userId } = useParams()

  const customTickMargin = {
    xAxisTickMargin: 15.5,
    yAxisTickMargin: 44.5,
  }

  useEffect(() => {
    const getDailyActivityData = async () => {
      try {
        const data = await dailyActivityDataProvider(userId)

        setDailayActivityData(data)
      } catch (err) {
        setError(true)
      } finally {
        setLoading(false)
      }
    }

    getDailyActivityData()
  }, [])

  return (
    &lt;div className="daily-activity-chart">
      {isLoading ? (
        &lt;Loader />
      ) : error ? (
        &lt;Error />
      ) : (
        &lt;ResponsiveContainer width="100%" height="100%">
          &lt;BarChart
            data={dailyActivityData.userActivitySessions}
            margin={{ top: 0, right: 10, bottom: 0, left: 10 }}
            barCategoryGap={7}
            barGap={8}
            barSize={7}
          >
            &lt;text
              x={0}
              y={0}
              dominantBaseline="hanging"
              className="daily-activity-chart__title"
            >
              &lt;tspan fontSize="15">Activité quotidienne&lt;/tspan>
            &lt;/text>
            &lt;Legend
              height={65}
              wrapperStyle={{ display: 'flex', justifyContent: 'flex-end' }}
              verticalAlign="top"
              content={
                &lt;CustomLegend>
                  {[...Array(2)].map((item, index) => (
                    &lt;li
                      key={`${item}-${index}`}
                      className="custom-legend__item"
                    >
                      &lt;svg
                        className={
                          index === 0
                            ? 'custom-legend__item__icon'
                            : 'custom-legend__item__icon--calories'
                        }
                        viewBox="0 0 100 100"
                        width={8}
                        height={8}
                        fill="currentColor"
                      >
                        &lt;circle cx={50} cy={50} r={50} />
                      &lt;/svg>
                      &lt;span className="custom-legend__item__text">
                        {index === 0 ? 'Poids (kg)' : 'Calories brulées (kCal)'}
                      &lt;/span>
                    &lt;/li>
                  ))}
                &lt;/CustomLegend>
              }
            />
            &lt;CartesianGrid
              vertical={false}
              strokeDasharray={3}
              stroke={'rgba(var(--daily-activity-line-color), 1)'}
            />
            &lt;XAxis
              dataKey="day"
              height={24 + customTickMargin.xAxisTickMargin}
              tick={{
                fontSize: 'var(--desktop-font-size-14px-in-rem)',
                stroke: 'rgb(var(--daily-activity-chart-tick-color))',
                strokeWidth: 0.1,
              }}
              tickLine={false}
              tickMargin={customTickMargin.xAxisTickMargin}
            />
            &lt;YAxis
              orientation="right"
              width={43 + customTickMargin.yAxisTickMargin}
              axisLine={false}
              tick={{
                fontSize: 'var(--desktop-font-size-14px-in-rem)',
                stroke: 'rgba(var(--daily-activity-chart-tick-color))',
                strokeWidth: 0.1,
              }}
              tickLine={false}
              tickMargin={customTickMargin.yAxisTickMargin}
            />
            &lt;Tooltip
              cursor={{
                fill: 'rgba(var(--daily-activity-chart-cursor-background-color)',
              }}
              content={
                &lt;CustomTooltip
                  valueUnitCallback={(payloadName) =>
                    payloadName === 'kilogram' ? 'kg' : 'kCal'
                  }
                />
              }
              filterNull
            />
            &lt;Bar
              dataKey="kilogram"
              fill="rgb(var(--secondary-color))"
              radius={[3, 3, 0, 0]}
            />
            &lt;Bar
              dataKey="calories"
              fill="rgb(var(--primary-color-alternate-light))"
              radius={[3, 3, 0, 0]}
            />
          &lt;/BarChart>
        &lt;/ResponsiveContainer>
      )}
    &lt;/div>
  )
}

export default DailyActivity
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> on Wed Jul 06 2022 15:15:53 GMT-0400 (heure normale de l’Amazonie) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
